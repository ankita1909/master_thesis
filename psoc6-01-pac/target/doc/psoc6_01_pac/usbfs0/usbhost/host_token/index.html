<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Host Token Endpoint Register"><meta name="keywords" content="rust, rustlang, rust-lang, host_token"><title>psoc6_01_pac::usbfs0::usbhost::host_token - Rust</title><link rel="stylesheet" type="text/css" href="../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../../storage.js"></script><script src="../../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../../psoc6_01_pac/index.html'><div class='logo-container rust-logo'><img src='../../../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module host_token</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></div><div id="sidebar-vars" data-name="host_token" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img src="../../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../../settings.html" title="settings"><img src="../../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../../index.html">psoc6_01_pac</a>::<wbr><a href="../../index.html">usbfs0</a>::<wbr><a href="../index.html">usbhost</a>::<wbr><a class="mod" href="#">host_token</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../../../../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../../src/psoc6_01_pac/usbfs0/usbhost/host_token.rs.html#1-311" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Host Token Endpoint Register</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.ENDPT_R.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::ENDPT_R struct">ENDPT_R</a></td><td class="docblock-short"><p>Field <code>ENDPT</code> reader - These bits are used to specify an endpoint to send or receive data to or from the device. Note: - This bit isn’t reset to default even if the RST bit of the Host Control 1 Register (HOST_CTL1) is set to ‘1’.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ENDPT_W.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::ENDPT_W struct">ENDPT_W</a></td><td class="docblock-short"><p>Field <code>ENDPT</code> writer - These bits are used to specify an endpoint to send or receive data to or from the device. Note: - This bit isn’t reset to default even if the RST bit of the Host Control 1 Register (HOST_CTL1) is set to ‘1’.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.HOST_TOKEN_SPEC.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::HOST_TOKEN_SPEC struct">HOST_TOKEN_SPEC</a></td><td class="docblock-short"><p>Host Token Endpoint Register</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.R.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::R struct">R</a></td><td class="docblock-short"><p>Register <code>HOST_TOKEN</code> reader</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TGGL_R.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::TGGL_R struct">TGGL_R</a></td><td class="docblock-short"><p>Field <code>TGGL</code> reader - This bit is used to set toggle data. Toggle data is sent depending on the setting of this bit. When receiving toggle data, received toggle data is compared with the toggle data of this bit to verify whether or not an error occurs. ‘0’ : DATA0 ‘1’ : DATA1 Notes: - This bit isn’t reset to the default value even if the RST bit of the Host Control 1 Register (HOST_CTL1) is set to ‘1’. - Set this bit when the TKNEN bit of the Host Token Endpoint Register (HOST_TOKEN) is ‘000’.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TGGL_W.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::TGGL_W struct">TGGL_W</a></td><td class="docblock-short"><p>Field <code>TGGL</code> writer - This bit is used to set toggle data. Toggle data is sent depending on the setting of this bit. When receiving toggle data, received toggle data is compared with the toggle data of this bit to verify whether or not an error occurs. ‘0’ : DATA0 ‘1’ : DATA1 Notes: - This bit isn’t reset to the default value even if the RST bit of the Host Control 1 Register (HOST_CTL1) is set to ‘1’. - Set this bit when the TKNEN bit of the Host Token Endpoint Register (HOST_TOKEN) is ‘000’.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TKNEN_R.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::TKNEN_R struct">TKNEN_R</a></td><td class="docblock-short"><p>Field <code>TKNEN</code> reader - These bits send a token according to the current settings. After operation is complete, the TKNEN bit is set to ‘000’, and the CMPIRQ bit of the Interrupt USB Host Register (INTR_USBHOST) is set to ‘1’. The settings of the TGGL and ENDPT bits are ignored when sending a SOF token. Notes: - This bit is set to the default value when the RST bit of the Host Control 1 Register (HOST_CTL1) is set to ‘1’. - The PRE packet isn’t supported. - Do not set ‘100’ to the TKNEN bit when the SOFBUSY bit of the Host Status Register (HOST_STATUS) is ‘1’ - Mode should be USB Host before writing data to this bit. - When issuing a token again after the token interrupt flag (CMPIRQ) has been set to ‘1’, wait for 3 cycles or more after a USB transfer clock (12 MHz in the full-speed mode, 1.5 MHz in the low-speed mode) was output, then write data to this bit. - Read the value of TKNEN bit if a new value is written in it .Continue writing in this bit until a retrieved value equals a new value written in. During this checking process, it is needed to prevent any interrupt. - Take the following steps when CMPIRQ bit of Interrupt USB Host Register (INTR_USBHOST) is set to ‘1’ by finishing IN token or Isochronous IN token. 1. Read HS bit of Host Error Status Register (HOST_ERR), then set CMPIRQ bit to ‘0’. 2. Set EPn bit of Host DMA Enable Register (HOST_DMA_ENBL) (n=1 or 2) to ‘1’ if HS bit of Host Error Status Register (HOST_ERR) is equal to ‘00’ and wait until EPn bit of Host DMA Data Request Register (HOST_DMA_DREQ) changes to ‘1’. Finish the IN token processing if HS bit is not equal to ‘00’. 3. Read the received data if EPn bit of Host DMA Data Requet (HOST_DMA_DREQ) (n=1 or 2) changes to ‘1’.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TKNEN_W.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::TKNEN_W struct">TKNEN_W</a></td><td class="docblock-short"><p>Field <code>TKNEN</code> writer - These bits send a token according to the current settings. After operation is complete, the TKNEN bit is set to ‘000’, and the CMPIRQ bit of the Interrupt USB Host Register (INTR_USBHOST) is set to ‘1’. The settings of the TGGL and ENDPT bits are ignored when sending a SOF token. Notes: - This bit is set to the default value when the RST bit of the Host Control 1 Register (HOST_CTL1) is set to ‘1’. - The PRE packet isn’t supported. - Do not set ‘100’ to the TKNEN bit when the SOFBUSY bit of the Host Status Register (HOST_STATUS) is ‘1’ - Mode should be USB Host before writing data to this bit. - When issuing a token again after the token interrupt flag (CMPIRQ) has been set to ‘1’, wait for 3 cycles or more after a USB transfer clock (12 MHz in the full-speed mode, 1.5 MHz in the low-speed mode) was output, then write data to this bit. - Read the value of TKNEN bit if a new value is written in it .Continue writing in this bit until a retrieved value equals a new value written in. During this checking process, it is needed to prevent any interrupt. - Take the following steps when CMPIRQ bit of Interrupt USB Host Register (INTR_USBHOST) is set to ‘1’ by finishing IN token or Isochronous IN token. 1. Read HS bit of Host Error Status Register (HOST_ERR), then set CMPIRQ bit to ‘0’. 2. Set EPn bit of Host DMA Enable Register (HOST_DMA_ENBL) (n=1 or 2) to ‘1’ if HS bit of Host Error Status Register (HOST_ERR) is equal to ‘00’ and wait until EPn bit of Host DMA Data Request Register (HOST_DMA_DREQ) changes to ‘1’. Finish the IN token processing if HS bit is not equal to ‘00’. 3. Read the received data if EPn bit of Host DMA Data Requet (HOST_DMA_DREQ) (n=1 or 2) changes to ‘1’.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.W.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::W struct">W</a></td><td class="docblock-short"><p>Register <code>HOST_TOKEN</code> writer</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.TKNEN_A.html" title="psoc6_01_pac::usbfs0::usbhost::host_token::TKNEN_A enum">TKNEN_A</a></td><td class="docblock-short"><p>These bits send a token according to the current settings. After operation is complete, the TKNEN bit is set to ‘000’, and the CMPIRQ bit of the Interrupt USB Host Register (INTR_USBHOST) is set to ‘1’. The settings of the TGGL and ENDPT bits are ignored when sending a SOF token. Notes: - This bit is set to the default value when the RST bit of the Host Control 1 Register (HOST_CTL1) is set to ‘1’. - The PRE packet isn’t supported. - Do not set ‘100’ to the TKNEN bit when the SOFBUSY bit of the Host Status Register (HOST_STATUS) is ‘1’ - Mode should be USB Host before writing data to this bit. - When issuing a token again after the token interrupt flag (CMPIRQ) has been set to ‘1’, wait for 3 cycles or more after a USB transfer clock (12 MHz in the full-speed mode, 1.5 MHz in the low-speed mode) was output, then write data to this bit. - Read the value of TKNEN bit if a new value is written in it .Continue writing in this bit until a retrieved value equals a new value written in. During this checking process, it is needed to prevent any interrupt. - Take the following steps when CMPIRQ bit of Interrupt USB Host Register (INTR_USBHOST) is set to ‘1’ by finishing IN token or Isochronous IN token. 1. Read HS bit of Host Error Status Register (HOST_ERR), then set CMPIRQ bit to ‘0’. 2. Set EPn bit of Host DMA Enable Register (HOST_DMA_ENBL) (n=1 or 2) to ‘1’ if HS bit of Host Error Status Register (HOST_ERR) is equal to ‘00’ and wait until EPn bit of Host DMA Data Request Register (HOST_DMA_DREQ) changes to ‘1’. Finish the IN token processing if HS bit is not equal to ‘00’. 3. Read the received data if EPn bit of Host DMA Data Requet (HOST_DMA_DREQ) (n=1 or 2) changes to ‘1’.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../../../" data-current-crate="psoc6_01_pac" data-search-index-js="../../../../search-index.js" data-search-js="../../../../search.js"></div><script src="../../../../main.js"></script></body></html>